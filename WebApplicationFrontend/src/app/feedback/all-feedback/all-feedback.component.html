<html>
    <head>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <link rel="stylesheet" href="all-feedback.component.css">
    </head>>
<body>

<div class="container">
    <nav class="navbar navbar-expand navbar-dark fixed-top" style="background-color: #3F51B5">
        <h1><a class="naslov" href="" class="navbar-brand">HOME PAGE</a></h1>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item"><a href="" class="nav-link">Početna</a></li>           
                <li class="nav-item"><a href="" class="nav-link">Dodaj domaćina</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Odjavi se</a></li>
            </ul>
        </div>
    </nav>
    <br/><br/><br/><br/>
<h1 name="feedbacks" class="header">All feedback</h1>
    <h2 name="all_feedback_len" class="container center-card">Currently there are: {{allFeedback.length}} feedback</h2>
    <div>
                <div [dataSource]="allFeedback" class="row" *ngFor="let feedback of allFeedback" class="container center-card">  
                    
                    <mat-card>
                        <mat-card-header>
                            <mat-card-title>
                                <p class="title-paragraph" *ngIf="feedback.anonymous">Anonymous</p>
                                <p class="title-paragraph" *ngIf="!feedback.anonymous"> {{ feedback.name}} {{feedback.surname}}</p>
                               
                            </mat-card-title>
                           
                            <mat-card-subtitle>
                                <p class="subtitle-paragraph">{{ feedback.date | date: 'dd/MM/yyyy'}}</p>
                            </mat-card-subtitle>
                        </mat-card-header> 

                        
                        <mat-card-content>
                            <p class="content-paragraph">{{ feedback.additionalNotes }}</p>
                        </mat-card-content>
                        <mat-divider></mat-divider>
                        <mat-card-content>
                            <p class="content-paragraph" *ngIf="feedback.allowedForPublishing">Publishing: Allowed</p>
                            <p class="content-paragraph" *ngIf="!feedback.allowedForPublishing">Publishing: Not Allowed</p>
                        </mat-card-content>
                        <mat-divider></mat-divider>
                        <mat-card-content>
                            <p class="content-paragraph" *ngIf="feedback.approved">Status: Approved</p>
                            <p class="content-paragraph" *ngIf="!feedback.approved">Status: Not Approved</p>
                            
                        </mat-card-content>
                        <mat-divider></mat-divider>   
                       <mat-card-actions *ngIf="feedback.allowedForPublishing">
                           
                            <button mat-raised-button color="accent" id="button" (click)="updateStatus(feedback.id,!feedback.approved, $event.target)" *ngIf="!feedback.approved">Approve</button>
                            <button mat-raised-button color="accent" id="button" (click)="updateStatus(feedback.id,!feedback.approved, $event.target)" *ngIf="feedback.approved">Deny</button>
                            
                        </mat-card-actions>
                    </mat-card>
                </div>
                </div>      
        

    
</div>
</body>
</html>

